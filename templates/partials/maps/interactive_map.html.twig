<section class="maps-section">
    <div class="container">
        <h2 class="section-title">{{ labels.title }}</h2>
        <p class="section-description">{{ labels.description }}</p>
        
        <div class="map-container">
            <!-- Панель выбора маршрутов -->
            <div class="routes-panel">
                <h3>{{ labels.routes_title }}</h3>
                <div class="routes-list">
                    {% for routeId, route in routes %}
                        <div class="route-card" data-route="{{ routeId }}">
                            <h4>{{ route.name }}</h4>
                            <p class="route-description">{{ route.description }}</p>
                            <div class="route-info">
                                <span class="route-duration">
                                    <i class="fas fa-clock"></i> {{ route.duration }}
                                </span>
                                <span class="route-distance">
                                    <i class="fas fa-route"></i> {{ route.distance }}
                                </span>
                                <span class="route-difficulty difficulty-{{ route.difficulty|lower|replace({' ': '-'}) }}">
                                    <i class="fas fa-star"></i> {{ route.difficulty }}
                                </span>
                            </div>
                            <div class="route-points">
                                <small>
                                    <i class="fas fa-map-marker-alt"></i> 
                                    {{ route.points|length }} {{ 'main.maps.points'|trans }}
                                </small>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
            
            <!-- Карта -->
            <div class="map-wrapper">
                <div id="interactive-map"></div>
                
                <!-- Кнопки управления -->
                <div class="map-controls">
                    <button id="show-all-routes" class="btn-map-control">
                        {{ labels.show_all }}
                    </button>
                    <button id="reset-map" class="btn-map-control">
                        {{ labels.reset }}
                    </button>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    // Передаем данные в JavaScript
    window.routesData = {{ routesJson|raw }};
    window.mapLabels = {{ labelsJson|raw }};
</script>